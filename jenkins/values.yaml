#jenkins/values.yaml
controller:
  image:
    registry: docker.io
    repository: jenkins/jenkins
    tag: lts


  serviceType: NodePort
  nodePort: 32005


  persistence:
    enabled: true
    storageClass: "local-path"  # Для k3s с Local Path Provisioner
    accessMode: ReadWriteOnce
    size: 5Gi

  JCasC:
    enabled: true
    configScripts:
      my-jcasc: |
        jenkins:
          systemMessage: "Configured via JCasC"
          jobs:
            - script: >
                pipelineJob('hello-world') {
                  definition {
                    cps {
                      script('''node { echo "Hello world" }''')
                    }
                  }
                }
